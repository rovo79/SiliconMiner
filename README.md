# SiliconMiner
A miner optimized for Apple Silicon M series processors.
Build a miner specifically architected to take full advantage of the M series unified memory shared across the CPU, GPU, and Neural Engine. 

Move away from virtualization and code porting of existing projects, and instead build with native libraries and frameworks provided by Apple.

- **Accelerate**
https://developer.apple.com/documentation/accelerate

- **Core ML**
https://developer.apple.com/documentation/coreml
  - **Metal Performance Shaders**
    https://developer.apple.com/documentation/metalperformanceshaders
  - **Metal Performance Shaders Graph**
    https://developer.apple.com/documentation/metalperformanceshadersgraph

- **ML Compute**
  https://developer.apple.com/documentation/mlcompute

## Implementation of the Compute Kernel using the Metal Framework in Swift

To implement the compute kernel for mining XMR using the Metal framework in Swift, follow these steps:

1. **Define the Compute Kernel Function**: Write Swift code to define the kernel function, its inputs, outputs, and necessary data structures and helper functions.

2. **Create a Compute Pipeline State Object**: Use the Metal framework to create a compute pipeline state object for the kernel function.

3. **Dispatch the Kernel to GPU and Neural Engine Cores**: Use the `MTLParallelRenderCommandEncoder` class to dispatch the kernel to all available cores on the GPU and neural engine.

4. **Parallelize the Work on CPU Cores**: Use Grand Central Dispatch (GCD) to parallelize the work on the CPU cores.

5. **Test and Debug the Code**: Run the code and measure its performance. Use debugging tools such as breakpoints and print statements to identify and fix any issues.

6. **Refine and Optimize the Code**: Experiment with different configurations and fine-tune the code as needed. Optimize the kernel code and parallelization strategies to improve performance.

## API Documentation and Usage Instructions

### API Documentation

The API documentation provides detailed information about the functions, classes, and methods available in the SiliconMiner application. It includes descriptions of the parameters, return values, and usage examples for each API.

For detailed API documentation, refer to the [API Documentation](Documentation/API.md).

### Usage Instructions

To use the SiliconMiner application, follow these steps:

1. **Clone the Repository**: Clone the SiliconMiner repository to your local machine using the following command:
   ```
   git clone https://github.com/rovo79/SiliconMiner.git
   ```

2. **Install Dependencies**: Navigate to the project directory and install the necessary dependencies using the following command:
   ```
   swift package resolve
   ```

3. **Build the Project**: Build the SiliconMiner project using the following command:
   ```
   swift build
   ```

4. **Run the Miner**: Run the SiliconMiner application using the following command:
   ```
   swift run SiliconMiner
   ```

5. **Configure the Miner**: Customize the configuration settings in the `config.json` file to specify the mining algorithm, cryptocurrency, and other parameters.

6. **Monitor the Miner**: Monitor the mining process and view the logs generated by the application.

## Performance Benchmarks and Profiling Tools

### Performance Benchmarks

The performance benchmarks provide insights into the efficiency and speed of the SiliconMiner application. They measure the execution time, memory usage, and throughput of various components and algorithms.

For detailed performance benchmarks, refer to the [Performance Benchmarks](Documentation/Performance.md).

### Profiling Tools

The profiling tools help identify performance bottlenecks and optimize the code for better performance. They provide detailed information about the execution flow, CPU and GPU usage, and memory allocation.

For detailed information about the profiling tools, refer to the [Profiling Tools](Documentation/Performance.md).

## Configuration Files for Different Environments

### Configuration Files

The SiliconMiner application supports different environments, such as development, production, and testing. Each environment has its own configuration file that specifies the settings and parameters for that environment.

For detailed information about the configuration files, refer to the [Configuration Files](Documentation/Configuration.md).

### Environment Setup

To set up the environment for the SiliconMiner application, follow these steps:

1. **Create Configuration Files**: Create separate configuration files for each environment (e.g., `config.development.json`, `config.production.json`, `config.testing.json`).

2. **Specify Environment Variables**: Set the environment variables to specify the desired environment. For example:
   ```
   export ENVIRONMENT=development
   ```

3. **Load Configuration**: Modify the application code to load the appropriate configuration file based on the environment variable.

4. **Run the Application**: Run the SiliconMiner application with the desired environment settings.

